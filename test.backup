--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.1
-- Dumped by pg_dump version 9.6.1

-- Started on 2016-12-24 01:09:32

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2167 (class 1262 OID 16394)
-- Name: test; Type: DATABASE; Schema: -; Owner: test
--

CREATE DATABASE test WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'English_United States.1252' LC_CTYPE = 'English_United States.1252';


ALTER DATABASE test OWNER TO test;

\connect test

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1 (class 3079 OID 12387)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2169 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 185 (class 1259 OID 16395)
-- Name: friends; Type: TABLE; Schema: public; Owner: test
--

CREATE TABLE friends (
    id integer NOT NULL,
    id_user integer,
    id_friend integer
);


ALTER TABLE friends OWNER TO test;

--
-- TOC entry 186 (class 1259 OID 16398)
-- Name: friends_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE friends_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE friends_id_seq OWNER TO test;

--
-- TOC entry 2170 (class 0 OID 0)
-- Dependencies: 186
-- Name: friends_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: test
--

ALTER SEQUENCE friends_id_seq OWNED BY friends.id;


--
-- TOC entry 192 (class 1259 OID 16461)
-- Name: messages_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE messages_id_seq OWNER TO postgres;

--
-- TOC entry 191 (class 1259 OID 16451)
-- Name: messages; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE messages (
    id integer DEFAULT nextval('messages_id_seq'::regclass) NOT NULL,
    "from" integer NOT NULL,
    "to" integer NOT NULL,
    message text,
    date timestamp with time zone NOT NULL,
    deleted boolean
);


ALTER TABLE messages OWNER TO postgres;

--
-- TOC entry 187 (class 1259 OID 16400)
-- Name: requests; Type: TABLE; Schema: public; Owner: test
--

CREATE TABLE requests (
    id integer NOT NULL,
    id_requesting integer,
    id_requested integer
);


ALTER TABLE requests OWNER TO test;

--
-- TOC entry 188 (class 1259 OID 16403)
-- Name: requests_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE requests_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE requests_id_seq OWNER TO test;

--
-- TOC entry 2173 (class 0 OID 0)
-- Dependencies: 188
-- Name: requests_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: test
--

ALTER SEQUENCE requests_id_seq OWNED BY requests.id;


--
-- TOC entry 189 (class 1259 OID 16405)
-- Name: users; Type: TABLE; Schema: public; Owner: test
--

CREATE TABLE users (
    id integer NOT NULL,
    username character varying,
    firstname character varying,
    lastname character varying,
    email character varying,
    active boolean DEFAULT false,
    password character varying,
    last_coordinates json,
    last_activity timestamp with time zone
);


ALTER TABLE users OWNER TO test;

--
-- TOC entry 190 (class 1259 OID 16412)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE users_id_seq OWNER TO test;

--
-- TOC entry 2174 (class 0 OID 0)
-- Dependencies: 190
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: test
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- TOC entry 2021 (class 2604 OID 16430)
-- Name: friends id; Type: DEFAULT; Schema: public; Owner: test
--

ALTER TABLE ONLY friends ALTER COLUMN id SET DEFAULT nextval('friends_id_seq'::regclass);


--
-- TOC entry 2022 (class 2604 OID 16431)
-- Name: requests id; Type: DEFAULT; Schema: public; Owner: test
--

ALTER TABLE ONLY requests ALTER COLUMN id SET DEFAULT nextval('requests_id_seq'::regclass);


--
-- TOC entry 2024 (class 2604 OID 16432)
-- Name: users id; Type: DEFAULT; Schema: public; Owner: test
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- TOC entry 2155 (class 0 OID 16395)
-- Dependencies: 185
-- Data for Name: friends; Type: TABLE DATA; Schema: public; Owner: test
--

COPY friends (id, id_user, id_friend) FROM stdin;
2	3	2
3	2	3
4	5	2
5	2	5
7	6	2
6	2	6
9	7	8
8	8	7
10	8	7
11	7	8
12	8	7
13	7	8
14	8	7
15	7	8
16	8	7
17	7	8
18	8	7
19	7	8
20	8	7
21	7	8
22	8	7
23	7	8
24	8	7
25	7	8
26	8	7
27	7	8
29	7	8
28	8	7
30	8	7
31	7	8
32	8	7
33	7	8
34	8	7
35	7	8
36	8	7
37	7	8
\.


--
-- TOC entry 2175 (class 0 OID 0)
-- Dependencies: 186
-- Name: friends_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('friends_id_seq', 37, true);


--
-- TOC entry 2161 (class 0 OID 16451)
-- Dependencies: 191
-- Data for Name: messages; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY messages (id, "from", "to", message, date, deleted) FROM stdin;
19	2	5	Привет, как дела?	2016-12-24 00:02:42+01	f
20	5	2	Привет, хорошо! Как сам?	2016-12-24 00:03:28+01	f
21	2	5	Давай встретимся сегодня в 8?	2016-12-24 00:07:31+01	f
22	8	7	Привет! Позвони мне!	2016-12-24 00:13:07+01	f
23	2	5	Договорились!	2016-12-24 00:17:16+01	f
24	2	5	Или нет?	2016-12-24 00:17:58+01	f
25	5	2	Я на совещании, чуть позже позвоню и договоримся!	2016-12-24 00:20:11+01	f
26	5	2	Минут через 30	2016-12-24 00:20:41+01	f
27	2	5	Жду!	2016-12-24 00:21:59+01	f
28	5	2	Где встретимся?!	2016-12-24 00:22:23+01	f
29	2	5	Встречаемся на площади под елкой!	2016-12-24 00:27:23+01	f
30	5	2	В 16:40 подойду!	2016-12-24 00:28:46+01	f
31	2	5	Возьми с собой зонтик!	2016-12-24 00:29:57+01	f
32	5	2	Зачем?!	2016-12-24 00:30:08+01	f
33	2	5	Просто так!	2016-12-24 00:30:22+01	f
34	2	5	Слушай, я опаздываю, давай чуь позже?!	2016-12-24 00:35:37+01	f
35	5	2	Хорошо, я подожду!	2016-12-24 00:36:09+01	f
36	2	5	Я мигом!	2016-12-24 00:36:17+01	f
37	5	2	Я тебя вижу, подходи к памятнику	2016-12-24 00:39:30+01	f
38	5	2	В центре площади	2016-12-24 00:39:51+01	f
39	2	5	не проблема, иду	2016-12-24 00:40:11+01	f
\.


--
-- TOC entry 2176 (class 0 OID 0)
-- Dependencies: 192
-- Name: messages_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('messages_id_seq', 39, true);


--
-- TOC entry 2157 (class 0 OID 16400)
-- Dependencies: 187
-- Data for Name: requests; Type: TABLE DATA; Schema: public; Owner: test
--

COPY requests (id, id_requesting, id_requested) FROM stdin;
2	2	4
6	7	2
7	7	4
9	7	3
10	7	5
11	7	6
\.


--
-- TOC entry 2177 (class 0 OID 0)
-- Dependencies: 188
-- Name: requests_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('requests_id_seq', 11, true);


--
-- TOC entry 2159 (class 0 OID 16405)
-- Dependencies: 189
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: test
--

COPY users (id, username, firstname, lastname, email, active, password, last_coordinates, last_activity) FROM stdin;
7	test6	Владимир	Якупов	test6@mail.ru	t	9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08	[49.13453674316406,8.602246284484863]	\N
3	test2	Антон	Степанов	test2@mail.ru	t	9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08	\N	\N
6	test5	Алексей	Сидоров	test5@mail.ru	t	9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08	[49.13705444335938,8.58476448059082]	2016-12-23 13:57:26+01
5	test4	Сергей	Смирнов	test4@mail.ru	t	9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08	[49.13458251953125,8.60193157196045]	2016-12-24 00:44:42+01
4	test3	Михаил	Иванов	test3@mail.ru	f	9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08	\N	\N
8	test7	Анатолий	Ларионов	test7@mail.ru	t	9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08	[]	2016-12-24 00:12:46+01
2	test1	Александр	Лукашенко	test1@mail.ru	t	9f86d081884c7d659a2feaa0c55ad015a3bf4f1b2b0b822cd15d6c15b0f00a08	[49.13460922241211,8.601784706115723]	2016-12-24 00:42:53+01
\.


--
-- TOC entry 2178 (class 0 OID 0)
-- Dependencies: 190
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('users_id_seq', 9, true);


--
-- TOC entry 2027 (class 2606 OID 16418)
-- Name: friends friends_pkey; Type: CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY friends
    ADD CONSTRAINT friends_pkey PRIMARY KEY (id);


--
-- TOC entry 2037 (class 2606 OID 16458)
-- Name: messages messages_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY messages
    ADD CONSTRAINT messages_pkey PRIMARY KEY (id);


--
-- TOC entry 2029 (class 2606 OID 16420)
-- Name: requests requests_pkey; Type: CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY requests
    ADD CONSTRAINT requests_pkey PRIMARY KEY (id);


--
-- TOC entry 2031 (class 2606 OID 16422)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 2033 (class 2606 OID 16424)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 2035 (class 2606 OID 16426)
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- TOC entry 2171 (class 0 OID 0)
-- Dependencies: 192
-- Name: messages_id_seq; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON SEQUENCE messages_id_seq TO test;


--
-- TOC entry 2172 (class 0 OID 0)
-- Dependencies: 191
-- Name: messages; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON TABLE messages TO test;


-- Completed on 2016-12-24 01:09:36

--
-- PostgreSQL database dump complete
--

